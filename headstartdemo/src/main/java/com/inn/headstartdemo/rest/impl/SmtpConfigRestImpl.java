package com.inn.headstartdemo.rest.impl;

import javax.ws.rs.Consumes;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;

import org.springframework.stereotype.Service;


import com.inn.headstartdemo.exceptions.ExceptionHandler;
import com.inn.headstartdemo.utils.ConfigUtil;
import com.inn.headstartdemo.utils.SmtpConfig;
/**
 * 
 * @author Auto Generated By HeadStart
 * @version 1.0
 *
 */
 
/**
 * 
 *SmtpConfig Rest
 *
 */
@ExceptionHandler
@Path("/smtpConfig")
@Produces("application/json")
@Consumes("application/json")
@Service("l")
public class SmtpConfigRestImpl {

	
	public SmtpConfigRestImpl() {
		
	}
	
	/**
	 * 
	 *method to set Smtp Configuration properties
	 *@parameter configEntitiy of type SmtpConfig
	 *@returns configEntitiy
	 * 
	 */
	@ExceptionHandler
	@POST
	@Path("config")
	public  SmtpConfig configSMTP(SmtpConfig configEntitiy) {
				ConfigUtil.setConfigProp(ConfigUtil.EMAIL_ID,configEntitiy.getUserName());
			ConfigUtil.setConfigProp(ConfigUtil.EMAIL_PASSWORD,configEntitiy.getPassword());
			ConfigUtil.setConfigProp(ConfigUtil.SMTP_PORT,configEntitiy.getPort());
			ConfigUtil.setConfigProp(ConfigUtil.HOST_NAME,configEntitiy.getHostName());
			return configEntitiy;
		}

	@ExceptionHandler
	@POST
	@Path("coxconfig")
	public  SmtpConfig configCox(SmtpConfig configEntitiy) {
			ConfigUtil.setConfigProp(ConfigUtil.EXPIRY_NOTIFICATION_DURATION,configEntitiy.getExpiryNotificationDuration());
			ConfigUtil.setConfigProp(ConfigUtil.MAX_ATTEMPTS,configEntitiy.getMaxAttempts());
			ConfigUtil.setConfigProp(ConfigUtil.DEFAULT_EXPIRY_INTERVAL,configEntitiy.getDefaultExpiryInterval());
			return configEntitiy;
		}

	
	/**
	 * 
	 *method to get Smtp Configuration properties
	 *@returns configEntitiy
	 * 
	 */
	@ExceptionHandler
	@GET
	@Path("getconfig")
	public  SmtpConfig getConfigSMTP() {
		SmtpConfig configEntitiy=new SmtpConfig();
		configEntitiy.setHostName(ConfigUtil.getConfigProp(ConfigUtil.HOST_NAME));
		configEntitiy.setPort(ConfigUtil.getConfigProp(ConfigUtil.SMTP_PORT));
		configEntitiy.setUserName(ConfigUtil.getConfigProp(ConfigUtil.EMAIL_ID));
		configEntitiy.setPassword(ConfigUtil.getConfigProp(ConfigUtil.EMAIL_PASSWORD));
		return  configEntitiy;
	}
@ExceptionHandler
	@GET
	@Path("getcoxconfig")
	public  SmtpConfig getConfigCox() {
		SmtpConfig configEntitiy=new SmtpConfig();
		configEntitiy.setExpiryNotificationDuration(ConfigUtil.getConfigProp(ConfigUtil.EXPIRY_NOTIFICATION_DURATION));
		configEntitiy.setMaxAttempts(ConfigUtil.getConfigProp(ConfigUtil.MAX_ATTEMPTS));
		configEntitiy.setDefaultExpiryInterval(ConfigUtil.getConfigProp(ConfigUtil.DEFAULT_EXPIRY_INTERVAL));
		return  configEntitiy;
	}
	
	/**
	 * 
	 *method to set default pagination value 
	 *@parameter value of type String
	 *@returns new default value
	 * 
	 */
	@ExceptionHandler
	@POST
    @Path("paging/{value}")
		public String setPagingProp(@PathParam("value") String value) {
		ConfigUtil.setConfigProp(ConfigUtil.PAGING_VALUE,value);
		return "Pagination Saved Successfull";
	}
	
}
